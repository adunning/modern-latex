\chapter{Document Structure}
\label{structure}

Every \LaTeX{} document is different,
but all share a few common elements.

\section{Packages and the preamble}
In the last chapter, you saw:
\begin{leftfigure}
\begin{lstlisting}
\documentclass{article}

\begin{document}
Hello, World!
\end{document}
\end{lstlisting}
\end{leftfigure}
The space between the \verb|\documentclass| command and the start of the
\texttt{document} environment is called the \introduce{preamble}.
Here, we perform any setup we need---such as importing packages
and defining commands---to control how our document
will look.
As mentioned briefly in \chapref{installation},
\introduce{packages} are bits of code that modify your document
in interesting ways.

To import a package, add a \verb|\usepackage| command to the preamble,
with the package's name as the argument.
As a simple example, let's make a document with the \texttt{metalogo}
package, which adds \verb|\LuaLaTeX| and \verb|\XeLaTeX| commands.
\begin{leftfigure}
\begin{lstlisting}
\documentclass{article}

\usepackage{metalogo}

\begin{document}
\XeLaTeX{} and \LuaLaTeX{} are neat.
\end{document}
\end{lstlisting}
\end{leftfigure}
\begin{samepage}
should get you a \textsc{pdf} that reads
\begin{leftfigure}
\lm \XeLaTeX{} and \LuaLaTeX{} are neat.
\end{leftfigure}
\end{samepage}
Like other commands, \verb|\usepackage| accepts optional arguments.
The \texttt{geometry} package, for instance,
takes your desired paper size and margins.
For \acronym{us} letter paper with one-inch margins, you type:\footnote{Notice
that command arguments can be spaced in whatever way is most convenient to you,
so long as there are no empty lines between arguments.}
\begin{leftfigure}
\begin{lstlisting}
\usepackage[letterpaper,
            left=1in, right=1in, top=1in, bottom=1in
           ]{geometry}
\end{lstlisting}
\end{leftfigure}


The packages in your \LaTeX{} distribution come from the Comprehensive \TeX{}
Archive Network, or \acronym{ctan},\punckern\footnote{Curious readers may
be wondering what \TeX{} is, and how it differs from \LaTeX.
The short version is that \TeX{} is the typesetting system that \LaTeX{}
is built on top of---the latter is a framework of commands for the former.
(For example, \texttt{\textbackslash documentclass} and friends are provided by
\LaTeX{}, but the \TeX{} engine is what's actually laying out your document.)
The long version is at the back of this book as Appendix~\ref{history}.
We won't discuss how to use plain \TeX{} here. That's for another book---the
\TeX book.}
at \https{ctan.org}.
The manuals for packages are also found there,
so it should be your first stop when learning how to use one.

\section{Titles, sections, and tables of contents}

Authors often create hierarchy to help readers navigate their work.
\LaTeX{} provides seven different commands to break apart your document:
\verb|\part|, \verb|\chapter|, \verb|\section|, \verb|\subsection|,
\verb|\subsubsection|, \verb|\paragraph|, and \verb|\subparagraph|.
To use one, issue the command where you want that section to start,
using the section's name as the argument.
For example,
\begin{leftfigure}
\begin{lstlisting}
\documentclass{book}

\begin{document}
\chapter{The Start}
This is a very short chapter in a very short book.

\chapter{The End}
Is the book over yet?

\section{No!}
There's some more we must do before we go.

\section{Yes!}
Goodbye!
\end{document}
\end{lstlisting}
\end{leftfigure}
Some levels may not be available depending on the document class
you've chosen. Parts and chapters, for example, only appear in books.
And don't go too crazy with these commands.
Most works only need a few levels of hierarchy.

Sections\footnote{By this I mean all levels, not just
\texttt{\textbackslash section}.}
are automatically numbered---for example,
the title of this chapter was produced with \verb|\chapter{Document Structure}|,
and \LaTeX{} figured out that it was chapter~\ref{structure}.
You can also have \LaTeX{} build you a table of contents
with the \verb|\tableofcontents| command.

\section{What next?}

As promised, this book isn't a comprehensive reference,
but it \emph{will} point you to places where you can learn more.
We'll wrap up most chapters with a list of related topics you could
explore next.

Consider learning how to:
\begin{itemize}
\item Automatically start your document with its title, the author's name,
    and the date using \verb|\maketitle|.
\item Control section numbering with \verb|\setcounter{secnumdepth}|
and ``starred'' section commands, e.g., \verb|\subsection*{foo}|.
\item Create auto-updating cross-references with \verb|\label| and \verb|\ref|.
\item Use KOMA~Script, a set of document classes and packages
that make it easy to customize nearly every aspect of your document,
from section heading fonts to footnotes.
\item Include images using the \texttt{graphicx} package.
\item Add hyperlinks to your \acronym{pdf} using the \texttt{hyperref} package.
\item Split large documents into multiple files using \verb|\input|.
\end{itemize}
